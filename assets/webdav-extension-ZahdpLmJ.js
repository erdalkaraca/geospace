import{F as ut,Q as dt,a as U,A as L,D as ft,d as z,t as pt,z as te,x as fe,B as ht}from"./index-CNuu7pZ0.js";import{K as mt,p as je,r as wt}from"./main-9r6XUucc.js";function We(t,e){return function(){return t.apply(e,arguments)}}const{toString:yt}=Object.prototype,{getPrototypeOf:ge}=Object,re=(t=>e=>{const r=yt.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),P=t=>(t=t.toLowerCase(),e=>re(e)===t),ne=t=>e=>typeof e===t,{isArray:W}=Array,I=ne("undefined");function bt(t){return t!==null&&!I(t)&&t.constructor!==null&&!I(t.constructor)&&T(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const He=P("ArrayBuffer");function gt(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&He(t.buffer),e}const Rt=ne("string"),T=ne("function"),Me=ne("number"),se=t=>t!==null&&typeof t=="object",Et=t=>t===!0||t===!1,G=t=>{if(re(t)!=="object")return!1;const e=ge(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},St=P("Date"),At=P("File"),xt=P("Blob"),Ot=P("FileList"),Tt=t=>se(t)&&T(t.pipe),Ct=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||T(t.append)&&((e=re(t))==="formdata"||e==="object"&&T(t.toString)&&t.toString()==="[object FormData]"))},Nt=P("URLSearchParams"),[Pt,Dt,Ft,Ut]=["ReadableStream","Request","Response","Headers"].map(P),Lt=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function J(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,s;if(typeof t!="object"&&(t=[t]),W(t))for(n=0,s=t.length;n<s;n++)e.call(null,t[n],n,t);else{const o=r?Object.getOwnPropertyNames(t):Object.keys(t),i=o.length;let c;for(n=0;n<i;n++)c=o[n],e.call(null,t[c],c,t)}}function $e(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,s;for(;n-- >0;)if(s=r[n],e===s.toLowerCase())return s;return null}const k=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Ve=t=>!I(t)&&t!==k;function pe(){const{caseless:t}=Ve(this)&&this||{},e={},r=(n,s)=>{const o=t&&$e(e,s)||s;G(e[o])&&G(n)?e[o]=pe(e[o],n):G(n)?e[o]=pe({},n):W(n)?e[o]=n.slice():e[o]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&J(arguments[n],r);return e}const kt=(t,e,r,{allOwnKeys:n}={})=>(J(e,(s,o)=>{r&&T(s)?t[o]=We(s,r):t[o]=s},{allOwnKeys:n}),t),vt=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),_t=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},Bt=(t,e,r,n)=>{let s,o,i;const c={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),o=s.length;o-- >0;)i=s[o],(!n||n(i,t,e))&&!c[i]&&(e[i]=t[i],c[i]=!0);t=r!==!1&&ge(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},qt=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},jt=t=>{if(!t)return null;if(W(t))return t;let e=t.length;if(!Me(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},Wt=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&ge(Uint8Array)),Ht=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=n.next())&&!s.done;){const o=s.value;e.call(t,o[0],o[1])}},Mt=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},$t=P("HTMLFormElement"),Vt=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),Ae=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),It=P("RegExp"),Ie=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};J(r,(s,o)=>{let i;(i=e(s,o,t))!==!1&&(n[o]=i||s)}),Object.defineProperties(t,n)},zt=t=>{Ie(t,(e,r)=>{if(T(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(T(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Jt=(t,e)=>{const r={},n=s=>{s.forEach(o=>{r[o]=!0})};return W(t)?n(t):n(String(t).split(e)),r},Kt=()=>{},Xt=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Gt(t){return!!(t&&T(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const Yt=t=>{const e=new Array(10),r=(n,s)=>{if(se(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[s]=n;const o=W(n)?[]:{};return J(n,(i,c)=>{const d=r(i,s+1);!I(d)&&(o[c]=d)}),e[s]=void 0,o}}return n};return r(t,0)},Zt=P("AsyncFunction"),Qt=t=>t&&(se(t)||T(t))&&T(t.then)&&T(t.catch),ze=((t,e)=>t?setImmediate:e?((r,n)=>(k.addEventListener("message",({source:s,data:o})=>{s===k&&o===r&&n.length&&n.shift()()},!1),s=>{n.push(s),k.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",T(k.postMessage)),er=typeof queueMicrotask<"u"?queueMicrotask.bind(k):typeof process<"u"&&process.nextTick||ze,a={isArray:W,isArrayBuffer:He,isBuffer:bt,isFormData:Ct,isArrayBufferView:gt,isString:Rt,isNumber:Me,isBoolean:Et,isObject:se,isPlainObject:G,isReadableStream:Pt,isRequest:Dt,isResponse:Ft,isHeaders:Ut,isUndefined:I,isDate:St,isFile:At,isBlob:xt,isRegExp:It,isFunction:T,isStream:Tt,isURLSearchParams:Nt,isTypedArray:Wt,isFileList:Ot,forEach:J,merge:pe,extend:kt,trim:Lt,stripBOM:vt,inherits:_t,toFlatObject:Bt,kindOf:re,kindOfTest:P,endsWith:qt,toArray:jt,forEachEntry:Ht,matchAll:Mt,isHTMLForm:$t,hasOwnProperty:Ae,hasOwnProp:Ae,reduceDescriptors:Ie,freezeMethods:zt,toObjectSet:Jt,toCamelCase:Vt,noop:Kt,toFiniteNumber:Xt,findKey:$e,global:k,isContextDefined:Ve,isSpecCompliantForm:Gt,toJSONObject:Yt,isAsyncFn:Zt,isThenable:Qt,setImmediate:ze,asap:er};function w(t,e,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}a.inherits(w,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:a.toJSONObject(this.config),code:this.code,status:this.status}}});const Je=w.prototype,Ke={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Ke[t]={value:t}});Object.defineProperties(w,Ke);Object.defineProperty(Je,"isAxiosError",{value:!0});w.from=(t,e,r,n,s,o)=>{const i=Object.create(Je);return a.toFlatObject(t,i,function(d){return d!==Error.prototype},c=>c!=="isAxiosError"),w.call(i,t.message,e,r,n,s),i.cause=t,i.name=t.name,o&&Object.assign(i,o),i};const tr=null;function he(t){return a.isPlainObject(t)||a.isArray(t)}function Xe(t){return a.endsWith(t,"[]")?t.slice(0,-2):t}function xe(t,e,r){return t?t.concat(e).map(function(s,o){return s=Xe(s),!r&&o?"["+s+"]":s}).join(r?".":""):e}function rr(t){return a.isArray(t)&&!t.some(he)}const nr=a.toFlatObject(a,{},null,function(e){return/^is[A-Z]/.test(e)});function oe(t,e,r){if(!a.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=a.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,h){return!a.isUndefined(h[m])});const n=r.metaTokens,s=r.visitor||u,o=r.dots,i=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&a.isSpecCompliantForm(e);if(!a.isFunction(s))throw new TypeError("visitor must be a function");function l(p){if(p===null)return"";if(a.isDate(p))return p.toISOString();if(!d&&a.isBlob(p))throw new w("Blob is not supported. Use a Buffer instead.");return a.isArrayBuffer(p)||a.isTypedArray(p)?d&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,m,h){let b=p;if(p&&!h&&typeof p=="object"){if(a.endsWith(m,"{}"))m=n?m:m.slice(0,-2),p=JSON.stringify(p);else if(a.isArray(p)&&rr(p)||(a.isFileList(p)||a.endsWith(m,"[]"))&&(b=a.toArray(p)))return m=Xe(m),b.forEach(function(E,C){!(a.isUndefined(E)||E===null)&&e.append(i===!0?xe([m],C,o):i===null?m:m+"[]",l(E))}),!1}return he(p)?!0:(e.append(xe(h,m,o),l(p)),!1)}const f=[],y=Object.assign(nr,{defaultVisitor:u,convertValue:l,isVisitable:he});function R(p,m){if(!a.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+m.join("."));f.push(p),a.forEach(p,function(b,g){(!(a.isUndefined(b)||b===null)&&s.call(e,b,a.isString(g)?g.trim():g,m,y))===!0&&R(b,m?m.concat(g):[g])}),f.pop()}}if(!a.isObject(t))throw new TypeError("data must be an object");return R(t),e}function Oe(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Re(t,e){this._pairs=[],t&&oe(t,this,e)}const Ge=Re.prototype;Ge.append=function(e,r){this._pairs.push([e,r])};Ge.toString=function(e){const r=e?function(n){return e.call(this,n,Oe)}:Oe;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function sr(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ye(t,e,r){if(!e)return t;const n=r&&r.encode||sr;a.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let o;if(s?o=s(e,r):o=a.isURLSearchParams(e)?e.toString():new Re(e,r).toString(n),o){const i=t.indexOf("#");i!==-1&&(t=t.slice(0,i)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class Te{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){a.forEach(this.handlers,function(n){n!==null&&e(n)})}}const Ze={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},or=typeof URLSearchParams<"u"?URLSearchParams:Re,ir=typeof FormData<"u"?FormData:null,ar=typeof Blob<"u"?Blob:null,cr={isBrowser:!0,classes:{URLSearchParams:or,FormData:ir,Blob:ar},protocols:["http","https","file","blob","url","data"]},Ee=typeof window<"u"&&typeof document<"u",me=typeof navigator=="object"&&navigator||void 0,lr=Ee&&(!me||["ReactNative","NativeScript","NS"].indexOf(me.product)<0),ur=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",dr=Ee&&window.location.href||"http://localhost",fr=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ee,hasStandardBrowserEnv:lr,hasStandardBrowserWebWorkerEnv:ur,navigator:me,origin:dr},Symbol.toStringTag,{value:"Module"})),x={...fr,...cr};function pr(t,e){return oe(t,new x.classes.URLSearchParams,Object.assign({visitor:function(r,n,s,o){return x.isNode&&a.isBuffer(r)?(this.append(n,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function hr(t){return a.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function mr(t){const e={},r=Object.keys(t);let n;const s=r.length;let o;for(n=0;n<s;n++)o=r[n],e[o]=t[o];return e}function Qe(t){function e(r,n,s,o){let i=r[o++];if(i==="__proto__")return!0;const c=Number.isFinite(+i),d=o>=r.length;return i=!i&&a.isArray(s)?s.length:i,d?(a.hasOwnProp(s,i)?s[i]=[s[i],n]:s[i]=n,!c):((!s[i]||!a.isObject(s[i]))&&(s[i]=[]),e(r,n,s[i],o)&&a.isArray(s[i])&&(s[i]=mr(s[i])),!c)}if(a.isFormData(t)&&a.isFunction(t.entries)){const r={};return a.forEachEntry(t,(n,s)=>{e(hr(n),s,r,0)}),r}return null}function wr(t,e,r){if(a.isString(t))try{return(e||JSON.parse)(t),a.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const K={transitional:Ze,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,o=a.isObject(e);if(o&&a.isHTMLForm(e)&&(e=new FormData(e)),a.isFormData(e))return s?JSON.stringify(Qe(e)):e;if(a.isArrayBuffer(e)||a.isBuffer(e)||a.isStream(e)||a.isFile(e)||a.isBlob(e)||a.isReadableStream(e))return e;if(a.isArrayBufferView(e))return e.buffer;if(a.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return pr(e,this.formSerializer).toString();if((c=a.isFileList(e))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return oe(c?{"files[]":e}:e,d&&new d,this.formSerializer)}}return o||s?(r.setContentType("application/json",!1),wr(e)):e}],transformResponse:[function(e){const r=this.transitional||K.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(a.isResponse(e)||a.isReadableStream(e))return e;if(e&&a.isString(e)&&(n&&!this.responseType||s)){const i=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(c){if(i)throw c.name==="SyntaxError"?w.from(c,w.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:x.classes.FormData,Blob:x.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};a.forEach(["delete","get","head","post","put","patch"],t=>{K.headers[t]={}});const yr=a.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),br=t=>{const e={};let r,n,s;return t&&t.split(`
`).forEach(function(i){s=i.indexOf(":"),r=i.substring(0,s).trim().toLowerCase(),n=i.substring(s+1).trim(),!(!r||e[r]&&yr[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},Ce=Symbol("internals");function $(t){return t&&String(t).trim().toLowerCase()}function Y(t){return t===!1||t==null?t:a.isArray(t)?t.map(Y):String(t)}function gr(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const Rr=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function ce(t,e,r,n,s){if(a.isFunction(n))return n.call(this,e,r);if(s&&(e=r),!!a.isString(e)){if(a.isString(n))return e.indexOf(n)!==-1;if(a.isRegExp(n))return n.test(e)}}function Er(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function Sr(t,e){const r=a.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(s,o,i){return this[n].call(this,e,s,o,i)},configurable:!0})})}let O=class{constructor(e){e&&this.set(e)}set(e,r,n){const s=this;function o(c,d,l){const u=$(d);if(!u)throw new Error("header name must be a non-empty string");const f=a.findKey(s,u);(!f||s[f]===void 0||l===!0||l===void 0&&s[f]!==!1)&&(s[f||d]=Y(c))}const i=(c,d)=>a.forEach(c,(l,u)=>o(l,u,d));if(a.isPlainObject(e)||e instanceof this.constructor)i(e,r);else if(a.isString(e)&&(e=e.trim())&&!Rr(e))i(br(e),r);else if(a.isHeaders(e))for(const[c,d]of e.entries())o(d,c,n);else e!=null&&o(r,e,n);return this}get(e,r){if(e=$(e),e){const n=a.findKey(this,e);if(n){const s=this[n];if(!r)return s;if(r===!0)return gr(s);if(a.isFunction(r))return r.call(this,s,n);if(a.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=$(e),e){const n=a.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||ce(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let s=!1;function o(i){if(i=$(i),i){const c=a.findKey(n,i);c&&(!r||ce(n,n[c],c,r))&&(delete n[c],s=!0)}}return a.isArray(e)?e.forEach(o):o(e),s}clear(e){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const o=r[n];(!e||ce(this,this[o],o,e,!0))&&(delete this[o],s=!0)}return s}normalize(e){const r=this,n={};return a.forEach(this,(s,o)=>{const i=a.findKey(n,o);if(i){r[i]=Y(s),delete r[o];return}const c=e?Er(o):String(o).trim();c!==o&&delete r[o],r[c]=Y(s),n[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return a.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=e&&a.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(s=>n.set(s)),n}static accessor(e){const n=(this[Ce]=this[Ce]={accessors:{}}).accessors,s=this.prototype;function o(i){const c=$(i);n[c]||(Sr(s,i),n[c]=!0)}return a.isArray(e)?e.forEach(o):o(e),this}};O.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);a.reduceDescriptors(O.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});a.freezeMethods(O);function le(t,e){const r=this||K,n=e||r,s=O.from(n.headers);let o=n.data;return a.forEach(t,function(c){o=c.call(r,o,s.normalize(),e?e.status:void 0)}),s.normalize(),o}function et(t){return!!(t&&t.__CANCEL__)}function H(t,e,r){w.call(this,t??"canceled",w.ERR_CANCELED,e,r),this.name="CanceledError"}a.inherits(H,w,{__CANCEL__:!0});function tt(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new w("Request failed with status code "+r.status,[w.ERR_BAD_REQUEST,w.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Ar(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function xr(t,e){t=t||10;const r=new Array(t),n=new Array(t);let s=0,o=0,i;return e=e!==void 0?e:1e3,function(d){const l=Date.now(),u=n[o];i||(i=l),r[s]=d,n[s]=l;let f=o,y=0;for(;f!==s;)y+=r[f++],f=f%t;if(s=(s+1)%t,s===o&&(o=(o+1)%t),l-i<e)return;const R=u&&l-u;return R?Math.round(y*1e3/R):void 0}}function Or(t,e){let r=0,n=1e3/e,s,o;const i=(l,u=Date.now())=>{r=u,s=null,o&&(clearTimeout(o),o=null),t.apply(null,l)};return[(...l)=>{const u=Date.now(),f=u-r;f>=n?i(l,u):(s=l,o||(o=setTimeout(()=>{o=null,i(s)},n-f)))},()=>s&&i(s)]}const Q=(t,e,r=3)=>{let n=0;const s=xr(50,250);return Or(o=>{const i=o.loaded,c=o.lengthComputable?o.total:void 0,d=i-n,l=s(d),u=i<=c;n=i;const f={loaded:i,total:c,progress:c?i/c:void 0,bytes:d,rate:l||void 0,estimated:l&&c&&u?(c-i)/l:void 0,event:o,lengthComputable:c!=null,[e?"download":"upload"]:!0};t(f)},r)},Ne=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},Pe=t=>(...e)=>a.asap(()=>t(...e)),Tr=x.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,x.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(x.origin),x.navigator&&/(msie|trident)/i.test(x.navigator.userAgent)):()=>!0,Cr=x.hasStandardBrowserEnv?{write(t,e,r,n,s,o){const i=[t+"="+encodeURIComponent(e)];a.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),a.isString(n)&&i.push("path="+n),a.isString(s)&&i.push("domain="+s),o===!0&&i.push("secure"),document.cookie=i.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Nr(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Pr(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function rt(t,e,r){let n=!Nr(e);return t&&(n||r==!1)?Pr(t,e):e}const De=t=>t instanceof O?{...t}:t;function q(t,e){e=e||{};const r={};function n(l,u,f,y){return a.isPlainObject(l)&&a.isPlainObject(u)?a.merge.call({caseless:y},l,u):a.isPlainObject(u)?a.merge({},u):a.isArray(u)?u.slice():u}function s(l,u,f,y){if(a.isUndefined(u)){if(!a.isUndefined(l))return n(void 0,l,f,y)}else return n(l,u,f,y)}function o(l,u){if(!a.isUndefined(u))return n(void 0,u)}function i(l,u){if(a.isUndefined(u)){if(!a.isUndefined(l))return n(void 0,l)}else return n(void 0,u)}function c(l,u,f){if(f in e)return n(l,u);if(f in t)return n(void 0,l)}const d={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:c,headers:(l,u,f)=>s(De(l),De(u),f,!0)};return a.forEach(Object.keys(Object.assign({},t,e)),function(u){const f=d[u]||s,y=f(t[u],e[u],u);a.isUndefined(y)&&f!==c||(r[u]=y)}),r}const nt=t=>{const e=q({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:o,headers:i,auth:c}=e;e.headers=i=O.from(i),e.url=Ye(rt(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),c&&i.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let d;if(a.isFormData(r)){if(x.hasStandardBrowserEnv||x.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((d=i.getContentType())!==!1){const[l,...u]=d?d.split(";").map(f=>f.trim()).filter(Boolean):[];i.setContentType([l||"multipart/form-data",...u].join("; "))}}if(x.hasStandardBrowserEnv&&(n&&a.isFunction(n)&&(n=n(e)),n||n!==!1&&Tr(e.url))){const l=s&&o&&Cr.read(o);l&&i.set(s,l)}return e},Dr=typeof XMLHttpRequest<"u",Fr=Dr&&function(t){return new Promise(function(r,n){const s=nt(t);let o=s.data;const i=O.from(s.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:l}=s,u,f,y,R,p;function m(){R&&R(),p&&p(),s.cancelToken&&s.cancelToken.unsubscribe(u),s.signal&&s.signal.removeEventListener("abort",u)}let h=new XMLHttpRequest;h.open(s.method.toUpperCase(),s.url,!0),h.timeout=s.timeout;function b(){if(!h)return;const E=O.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),A={data:!c||c==="text"||c==="json"?h.responseText:h.response,status:h.status,statusText:h.statusText,headers:E,config:t,request:h};tt(function(F){r(F),m()},function(F){n(F),m()},A),h=null}"onloadend"in h?h.onloadend=b:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(b)},h.onabort=function(){h&&(n(new w("Request aborted",w.ECONNABORTED,t,h)),h=null)},h.onerror=function(){n(new w("Network Error",w.ERR_NETWORK,t,h)),h=null},h.ontimeout=function(){let C=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const A=s.transitional||Ze;s.timeoutErrorMessage&&(C=s.timeoutErrorMessage),n(new w(C,A.clarifyTimeoutError?w.ETIMEDOUT:w.ECONNABORTED,t,h)),h=null},o===void 0&&i.setContentType(null),"setRequestHeader"in h&&a.forEach(i.toJSON(),function(C,A){h.setRequestHeader(A,C)}),a.isUndefined(s.withCredentials)||(h.withCredentials=!!s.withCredentials),c&&c!=="json"&&(h.responseType=s.responseType),l&&([y,p]=Q(l,!0),h.addEventListener("progress",y)),d&&h.upload&&([f,R]=Q(d),h.upload.addEventListener("progress",f),h.upload.addEventListener("loadend",R)),(s.cancelToken||s.signal)&&(u=E=>{h&&(n(!E||E.type?new H(null,t,h):E),h.abort(),h=null)},s.cancelToken&&s.cancelToken.subscribe(u),s.signal&&(s.signal.aborted?u():s.signal.addEventListener("abort",u)));const g=Ar(s.url);if(g&&x.protocols.indexOf(g)===-1){n(new w("Unsupported protocol "+g+":",w.ERR_BAD_REQUEST,t));return}h.send(o||null)})},Ur=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,s;const o=function(l){if(!s){s=!0,c();const u=l instanceof Error?l:this.reason;n.abort(u instanceof w?u:new H(u instanceof Error?u.message:u))}};let i=e&&setTimeout(()=>{i=null,o(new w(`timeout ${e} of ms exceeded`,w.ETIMEDOUT))},e);const c=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(l=>{l.unsubscribe?l.unsubscribe(o):l.removeEventListener("abort",o)}),t=null)};t.forEach(l=>l.addEventListener("abort",o));const{signal:d}=n;return d.unsubscribe=()=>a.asap(c),d}},Lr=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,s;for(;n<r;)s=n+e,yield t.slice(n,s),n=s},kr=async function*(t,e){for await(const r of vr(t))yield*Lr(r,e)},vr=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},Fe=(t,e,r,n)=>{const s=kr(t,e);let o=0,i,c=d=>{i||(i=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:l,value:u}=await s.next();if(l){c(),d.close();return}let f=u.byteLength;if(r){let y=o+=f;r(y)}d.enqueue(new Uint8Array(u))}catch(l){throw c(l),l}},cancel(d){return c(d),s.return()}},{highWaterMark:2})},ie=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",st=ie&&typeof ReadableStream=="function",_r=ie&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),ot=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Br=st&&ot(()=>{let t=!1;const e=new Request(x.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),Ue=64*1024,we=st&&ot(()=>a.isReadableStream(new Response("").body)),ee={stream:we&&(t=>t.body)};ie&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!ee[e]&&(ee[e]=a.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new w(`Response type '${e}' is not supported`,w.ERR_NOT_SUPPORT,n)})})})(new Response);const qr=async t=>{if(t==null)return 0;if(a.isBlob(t))return t.size;if(a.isSpecCompliantForm(t))return(await new Request(x.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(a.isArrayBufferView(t)||a.isArrayBuffer(t))return t.byteLength;if(a.isURLSearchParams(t)&&(t=t+""),a.isString(t))return(await _r(t)).byteLength},jr=async(t,e)=>{const r=a.toFiniteNumber(t.getContentLength());return r??qr(e)},Wr=ie&&(async t=>{let{url:e,method:r,data:n,signal:s,cancelToken:o,timeout:i,onDownloadProgress:c,onUploadProgress:d,responseType:l,headers:u,withCredentials:f="same-origin",fetchOptions:y}=nt(t);l=l?(l+"").toLowerCase():"text";let R=Ur([s,o&&o.toAbortSignal()],i),p;const m=R&&R.unsubscribe&&(()=>{R.unsubscribe()});let h;try{if(d&&Br&&r!=="get"&&r!=="head"&&(h=await jr(u,n))!==0){let A=new Request(e,{method:"POST",body:n,duplex:"half"}),N;if(a.isFormData(n)&&(N=A.headers.get("content-type"))&&u.setContentType(N),A.body){const[F,X]=Ne(h,Q(Pe(d)));n=Fe(A.body,Ue,F,X)}}a.isString(f)||(f=f?"include":"omit");const b="credentials"in Request.prototype;p=new Request(e,{...y,signal:R,method:r.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:b?f:void 0});let g=await fetch(p);const E=we&&(l==="stream"||l==="response");if(we&&(c||E&&m)){const A={};["status","statusText","headers"].forEach(Se=>{A[Se]=g[Se]});const N=a.toFiniteNumber(g.headers.get("content-length")),[F,X]=c&&Ne(N,Q(Pe(c),!0))||[];g=new Response(Fe(g.body,Ue,F,()=>{X&&X(),m&&m()}),A)}l=l||"text";let C=await ee[a.findKey(ee,l)||"text"](g,t);return!E&&m&&m(),await new Promise((A,N)=>{tt(A,N,{data:C,headers:O.from(g.headers),status:g.status,statusText:g.statusText,config:t,request:p})})}catch(b){throw m&&m(),b&&b.name==="TypeError"&&/fetch/i.test(b.message)?Object.assign(new w("Network Error",w.ERR_NETWORK,t,p),{cause:b.cause||b}):w.from(b,b&&b.code,t,p)}}),ye={http:tr,xhr:Fr,fetch:Wr};a.forEach(ye,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Le=t=>`- ${t}`,Hr=t=>a.isFunction(t)||t===null||t===!1,it={getAdapter:t=>{t=a.isArray(t)?t:[t];const{length:e}=t;let r,n;const s={};for(let o=0;o<e;o++){r=t[o];let i;if(n=r,!Hr(r)&&(n=ye[(i=String(r)).toLowerCase()],n===void 0))throw new w(`Unknown adapter '${i}'`);if(n)break;s[i||"#"+o]=n}if(!n){const o=Object.entries(s).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let i=e?o.length>1?`since :
`+o.map(Le).join(`
`):" "+Le(o[0]):"as no adapter specified";throw new w("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return n},adapters:ye};function ue(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new H(null,t)}function ke(t){return ue(t),t.headers=O.from(t.headers),t.data=le.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),it.getAdapter(t.adapter||K.adapter)(t).then(function(n){return ue(t),n.data=le.call(t,t.transformResponse,n),n.headers=O.from(n.headers),n},function(n){return et(n)||(ue(t),n&&n.response&&(n.response.data=le.call(t,t.transformResponse,n.response),n.response.headers=O.from(n.response.headers))),Promise.reject(n)})}const at="1.8.4",ae={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{ae[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const ve={};ae.transitional=function(e,r,n){function s(o,i){return"[Axios v"+at+"] Transitional option '"+o+"'"+i+(n?". "+n:"")}return(o,i,c)=>{if(e===!1)throw new w(s(i," has been removed"+(r?" in "+r:"")),w.ERR_DEPRECATED);return r&&!ve[i]&&(ve[i]=!0,console.warn(s(i," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(o,i,c):!0}};ae.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function Mr(t,e,r){if(typeof t!="object")throw new w("options must be an object",w.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let s=n.length;for(;s-- >0;){const o=n[s],i=e[o];if(i){const c=t[o],d=c===void 0||i(c,o,t);if(d!==!0)throw new w("option "+o+" must be "+d,w.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new w("Unknown option "+o,w.ERR_BAD_OPTION)}}const Z={assertOptions:Mr,validators:ae},D=Z.validators;let _=class{constructor(e){this.defaults=e,this.interceptors={request:new Te,response:new Te}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=q(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:o}=r;n!==void 0&&Z.assertOptions(n,{silentJSONParsing:D.transitional(D.boolean),forcedJSONParsing:D.transitional(D.boolean),clarifyTimeoutError:D.transitional(D.boolean)},!1),s!=null&&(a.isFunction(s)?r.paramsSerializer={serialize:s}:Z.assertOptions(s,{encode:D.function,serialize:D.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Z.assertOptions(r,{baseUrl:D.spelling("baseURL"),withXsrfToken:D.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=o&&a.merge(o.common,o[r.method]);o&&a.forEach(["delete","get","head","post","put","patch","common"],p=>{delete o[p]}),r.headers=O.concat(i,o);const c=[];let d=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(r)===!1||(d=d&&m.synchronous,c.unshift(m.fulfilled,m.rejected))});const l=[];this.interceptors.response.forEach(function(m){l.push(m.fulfilled,m.rejected)});let u,f=0,y;if(!d){const p=[ke.bind(this),void 0];for(p.unshift.apply(p,c),p.push.apply(p,l),y=p.length,u=Promise.resolve(r);f<y;)u=u.then(p[f++],p[f++]);return u}y=c.length;let R=r;for(f=0;f<y;){const p=c[f++],m=c[f++];try{R=p(R)}catch(h){m.call(this,h);break}}try{u=ke.call(this,R)}catch(p){return Promise.reject(p)}for(f=0,y=l.length;f<y;)u=u.then(l[f++],l[f++]);return u}getUri(e){e=q(this.defaults,e);const r=rt(e.baseURL,e.url,e.allowAbsoluteUrls);return Ye(r,e.params,e.paramsSerializer)}};a.forEach(["delete","get","head","options"],function(e){_.prototype[e]=function(r,n){return this.request(q(n||{},{method:e,url:r,data:(n||{}).data}))}});a.forEach(["post","put","patch"],function(e){function r(n){return function(o,i,c){return this.request(q(c||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}_.prototype[e]=r(),_.prototype[e+"Form"]=r(!0)});let $r=class ct{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const n=this;this.promise.then(s=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](s);n._listeners=null}),this.promise.then=s=>{let o;const i=new Promise(c=>{n.subscribe(c),o=c}).then(s);return i.cancel=function(){n.unsubscribe(o)},i},e(function(o,i,c){n.reason||(n.reason=new H(o,i,c),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new ct(function(s){e=s}),cancel:e}}};function Vr(t){return function(r){return t.apply(null,r)}}function Ir(t){return a.isObject(t)&&t.isAxiosError===!0}const be={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(be).forEach(([t,e])=>{be[e]=t});function lt(t){const e=new _(t),r=We(_.prototype.request,e);return a.extend(r,_.prototype,e,{allOwnKeys:!0}),a.extend(r,e,null,{allOwnKeys:!0}),r.create=function(s){return lt(q(t,s))},r}const S=lt(K);S.Axios=_;S.CanceledError=H;S.CancelToken=$r;S.isCancel=et;S.VERSION=at;S.toFormData=oe;S.AxiosError=w;S.Cancel=S.CanceledError;S.all=function(e){return Promise.all(e)};S.spread=Vr;S.isAxiosError=Ir;S.mergeConfig=q;S.AxiosHeaders=O;S.formToJSON=t=>Qe(a.isHTMLForm(t)?new FormData(t):t);S.getAdapter=it.getAdapter;S.HttpStatusCode=be;S.default=S;const{Axios:Qr,AxiosError:en,CanceledError:tn,isCancel:rn,CancelToken:nn,VERSION:sn,all:on,Cancel:an,isAxiosError:cn,spread:ln,toFormData:un,AxiosHeaders:dn,HttpStatusCode:fn,formToJSON:pn,getAdapter:hn,mergeConfig:mn}=S;class _e{constructor(e){this.baseUrl=e.url;const r={baseURL:e.url,headers:{"Content-Type":"application/xml"},maxRedirects:5};e.username!==void 0&&(r.auth={username:e.username,password:e.password||""}),this.axios=S.create(r)}async propfind(e,r=1){const s=await this.axios.request({method:"PROPFIND",url:e,headers:{Depth:r.toString()},data:`<?xml version="1.0" encoding="UTF-8"?>
            <d:propfind xmlns:d="DAV:">
                <d:prop>
                    <d:displayname/>
                    <d:resourcetype/>
                    <d:getcontenttype/>
                    <d:getcontentlength/>
                    <d:getlastmodified/>
                    <d:getetag/>
                </d:prop>
            </d:propfind>`});return this.parseMultiStatus(s.data)}async getFile(e){return(await this.axios.get(e,{responseType:"arraybuffer"})).data}async putFile(e,r){await this.axios.put(e,r,{headers:{"Content-Type":"application/octet-stream"}})}async deleteResource(e){await this.axios.delete(e)}async createDirectory(e){await this.axios.request({method:"MKCOL",url:e})}async moveResource(e,r){const n=new URL(r,this.baseUrl).href;await this.axios.request({method:"MOVE",url:e,headers:{Destination:n,Overwrite:"F"}})}async copyResource(e,r){const n=new URL(r,this.baseUrl).href;await this.axios.request({method:"COPY",url:e,headers:{Destination:n,Overwrite:"F"}})}parseMultiStatus(e){const s=new DOMParser().parseFromString(e,"text/xml").querySelectorAll("response"),o=[];return s.forEach(i=>{var b,g,E,C,A,N;const c=((b=i.querySelector("href"))==null?void 0:b.textContent)||"",d=((g=i.querySelector("displayname"))==null?void 0:g.textContent)||"",l=i.querySelector("resourcetype"),u=!!(l!=null&&l.querySelector("collection")),f=((E=i.querySelector("getcontenttype"))==null?void 0:E.textContent)||void 0,y=(C=i.querySelector("getcontentlength"))==null?void 0:C.textContent,R=y?parseInt(y):void 0,p=(A=i.querySelector("getlastmodified"))==null?void 0:A.textContent,m=p?new Date(p):void 0,h=((N=i.querySelector("getetag"))==null?void 0:N.textContent)||void 0;o.push({href:c,displayName:d||c.split("/").filter(Boolean).pop()||"",isDirectory:u,contentType:f,contentLength:R,lastModified:m,etag:h})}),o}getBaseUrl(){return this.baseUrl}}class Be extends ut{constructor(e,r,n){super(),this.client=e,this.resource=r,this.parent=n}getName(){return this.resource.displayName}getParent(){return this.parent}async getContents(e){const r=await this.client.getFile(this.resource.href);if(!e||(e==null?void 0:e.contentType)===dt.TEXT)return new TextDecoder().decode(r);if(e!=null&&e.blob)return new Blob([r]);if(e!=null&&e.uri){const n=new Blob([r]);return URL.createObjectURL(n)}return r}async saveContents(e,r){await this.client.putFile(this.resource.href,e),U(L,this.getWorkspace())}async delete(){await this.client.deleteResource(this.resource.href),U(L,this.getWorkspace())}async copyTo(e){const r=await this.getWorkspace().getResource(e,{create:!0});if(!r)throw new Error(`Failed to create target file: ${e}`);const n=await this.getContents({blob:!0});await r.saveContents(n)}async rename(e){if(this.getName()===e)return;const r=this.resource.href.split("/");r[r.length-1]=e;const n=r.join("/");await this.client.moveResource(this.resource.href,n),this.resource.href=n,this.resource.displayName=e,U(L,this.getWorkspace())}}class B extends ft{constructor(e,r,n){super(),this.client=e,this.resource=r,this.parent=n}getName(){return this.resource.displayName}getParent(){return this.parent}async listChildren(e=!1){if(e||!this.children){const r=await this.client.propfind(this.resource.href,1);this.children=new Map;for(let n=1;n<r.length;n++){const s=r[n],o=s.isDirectory?new B(this.client,s,this):new Be(this.client,s,this);this.children.set(s.displayName,o)}}return Array.from(this.children.values())}async getResource(e,r){if(!e)throw new Error("No path provided");const n=e.split("/").filter(o=>o.trim());let s=this;for(let o=0;o<n.length;o++){const i=n[o];if(s instanceof B){if(await s.listChildren(),!s.children)return null;let c=s.children.get(i);if(!c&&(r!=null&&r.create)){const d=this.buildPath(s.resource.href,i);if(o<n.length-1){await this.client.createDirectory(d);const l={href:d,displayName:i,isDirectory:!0};c=new B(this.client,l,s),s.children.set(i,c)}else{await this.client.putFile(d,"");const l={href:d,displayName:i,isDirectory:!1,contentLength:0};return c=new Be(this.client,l,s),s.children.set(i,c),U(L,this.getWorkspace()),c}}if(!c)return null;s=c}}return s}async delete(e,r=!0){var s,o;if(!e)return(s=this.getParent())==null?void 0:s.delete(this.getName());const n=this.buildPath(this.resource.href,e);await this.client.deleteResource(n),(o=this.children)==null||o.delete(e),U(L,this.getWorkspace())}async copyTo(e){for(const r of await this.listChildren()){const n=[e,r.getName()].join("/");await r.copyTo(n)}}async rename(e){if(this.getName()===e)return;const r=this.resource.href.split("/").filter(Boolean);r[r.length-1]=e;const n="/"+r.join("/")+"/";await this.client.moveResource(this.resource.href,n),this.resource.href=n,this.resource.displayName=e,U(L,this.getWorkspace())}touch(){U(L,this.getWorkspace())}buildPath(e,r){return e.endsWith("/")?e+r:e+"/"+r}getClient(){return this.client}}var zr=Object.defineProperty,Jr=Object.getOwnPropertyDescriptor,M=(t,e,r,n)=>{for(var s=n>1?void 0:n?Jr(e,r):e,o=t.length-1,i;o>=0;o--)(i=t[o])&&(s=(n?i(e,r,s):i(s))||s);return n&&s&&zr(e,r,s),s};const V=je("WebDAV");let j=class extends mt{constructor(){super(...arguments),this.url="",this.username="",this.password="",this.connecting=!1,this.showHelp=!1}async handleConnect(){if(!this.url){V.error("Please provide a URL");return}try{new URL(this.url)}catch{V.error("Invalid URL format");return}this.connecting=!0;try{const t={url:this.url,...this.username&&this.password&&{username:this.username,password:this.password}};await te.connectWorkspace(t),V.info("Successfully connected to WebDAV workspace"),this.dispatchEvent(new CustomEvent("connected",{bubbles:!0,composed:!0}))}catch(t){t instanceof Error?V.error(`Connection failed: ${t.message}`):V.error("Failed to connect to WebDAV server")}finally{this.connecting=!1}}toggleHelp(){this.showHelp=!this.showHelp}render(){return fe`
            <style>
                .webdav-connect-dialog {
                    display: flex;
                    flex-direction: column;
                    gap: 1rem;
                    max-width: 500px;
                    padding: 1.5rem;
                }
                
                .webdav-connect-dialog h2 {
                    margin: 0 0 1rem 0;
                    font-size: 1.5rem;
                }
                
                .form-buttons {
                    display: flex;
                    gap: 0.5rem;
                    justify-content: flex-end;
                    margin-top: 1rem;
                }
                
                .help-text {
                    background: var(--wa-color-neutral-50);
                    padding: 1rem;
                    border-radius: 4px;
                    font-size: 0.875rem;
                    margin-top: 1rem;
                }
                
                .help-text h3 {
                    margin-top: 0;
                    font-size: 1rem;
                }
                
                .help-text p {
                    margin: 0.5rem 0;
                }
                
                .help-text code {
                    display: block;
                    background: var(--wa-color-neutral-100);
                    padding: 0.5rem;
                    border-radius: 3px;
                    margin: 0.5rem 0;
                    font-family: monospace;
                    word-break: break-all;
                }
                
                .help-toggle {
                    cursor: pointer;
                    color: var(--wa-color-primary-600);
                    font-size: 0.875rem;
                    text-decoration: underline;
                }
            </style>
            
            <div class="webdav-connect-dialog">
                <h2>
                    <wa-icon name="cloud" label="WebDAV"></wa-icon>
                    Connect to WebDAV Folder
                </h2>
                
                <wa-input
                    label="WebDAV URL"
                    placeholder="https://cloud.example.com/remote.php/dav/files/username/"
                    .value=${this.url}
                    @input=${t=>this.url=t.target.value}
                    required
                    help-text="The full WebDAV endpoint URL">
                </wa-input>
                
                <wa-input
                    label="Username (optional)"
                    placeholder="username"
                    .value=${this.username}
                    @input=${t=>this.username=t.target.value}
                    help-text="Leave empty for public/shared folders">
                </wa-input>
                
                <wa-input
                    type="password"
                    label="Password (optional)"
                    placeholder="Password or App Password"
                    .value=${this.password}
                    @input=${t=>this.password=t.target.value}
                    help-text="Leave empty for public/shared folders. Use an app password if 2FA is enabled">
                </wa-input>
                
                <div class="form-buttons">
                    <wa-button
                        appearance="outline"
                        @click=${this.toggleHelp}>
                        <wa-icon name="circle-info" slot="start"></wa-icon>
                        ${this.showHelp?"Hide":"Show"} Help
                    </wa-button>
                    
                    <wa-button
                        appearance="primary"
                        @click=${this.handleConnect}
                        ?disabled=${this.connecting||!this.url}>
                        <wa-icon name="${this.connecting?"spinner":"plug"}" slot="start"></wa-icon>
                        ${this.connecting?"Connecting...":"Connect"}
                    </wa-button>
                </div>
                
                ${this.showHelp?fe`
                    <div class="help-text">
                        <h3>WebDAV Connection Help</h3>
                        
                        <p><strong>Public/Shared Folders:</strong></p>
                        <p>For publicly shared WebDAV folders, just enter the URL and leave username/password empty.</p>
                        
                        <p><strong>Nextcloud Public Shares:</strong></p>
                        <p>For Nextcloud public shares (e.g., https://cloud.example.com/s/TOKEN):</p>
                        <ul>
                            <li><strong>URL:</strong> https://your-cloud.com/public.php/webdav/</li>
                            <li><strong>Username:</strong> The share token (the part after /s/)</li>
                            <li><strong>Password:</strong> Leave empty (or enter share password if protected)</li>
                        </ul>
                        <p><em>Tip: Use the "Connect to Nextcloud Public Share" command for easier setup!</em></p>
                        
                        <p><strong>Nextcloud Personal Files:</strong></p>
                        <p>Your WebDAV URL should look like:</p>
                        <code>https://your-cloud.com/remote.php/dav/files/USERNAME/</code>
                        
                        <p><strong>ownCloud:</strong></p>
                        <code>https://your-owncloud.com/remote.php/dav/files/USERNAME/</code>
                        
                        <p><strong>Two-Factor Authentication:</strong></p>
                        <p>If you have 2FA enabled:</p>
                        <ol>
                            <li>Go to your account settings</li>
                            <li>Find "Security" or "App passwords"</li>
                            <li>Generate a new app password</li>
                            <li>Use that password here instead of your regular password</li>
                        </ol>
                        
                        <p><strong>CORS Issues:</strong></p>
                        <p>If connection fails, your WebDAV server may need CORS configuration. 
                        Contact your administrator or check the server documentation.</p>
                        
                        <p><strong>Note:</strong> Your credentials (if provided) will be stored securely in your browser's storage.</p>
                    </div>
                `:""}
            </div>
        `}};M([z()],j.prototype,"url",2);M([z()],j.prototype,"username",2);M([z()],j.prototype,"password",2);M([z()],j.prototype,"connecting",2);M([z()],j.prototype,"showHelp",2);j=M([pt("k-webdav-connect")],j);const v=je("WebDAV");let de=null;function Kr(){if(!de){const t=document.createElement("div"),r=fe`
            <wa-dialog label="Connect to WebDAV / Cloud Storage">
                <style>
                    .webdav-dialog {
                        display: flex;
                        flex-direction: column;
                        gap: 1rem;
                        padding: 1.5rem;
                        max-width: 500px;
                    }
                    
                    .form-buttons {
                        display: flex;
                        gap: 0.5rem;
                        justify-content: flex-end;
                        margin-top: 1rem;
                    }
                </style>
                
                <div class="webdav-dialog">
                <wa-input
                    id="webdav-url"
                    label="URL"
                    placeholder="https://cloud.kispace.de/s/6FE3XXKarwYxTPK"
                    required
                    help-text="Nextcloud share link or WebDAV endpoint URL">
                </wa-input>
                    
                    <wa-input
                        id="webdav-password"
                        type="password"
                        label="Password (optional)"
                        placeholder="Leave empty if not required">
                    </wa-input>
                    
                    <div class="form-buttons">
                        <wa-button
                            appearance="outline"
                            @click=${()=>t.querySelector("wa-dialog").open=!1}>
                            Cancel
                        </wa-button>
                        
                        <wa-button
                            appearance="primary"
                            @click=${async()=>{const n=t.querySelector("wa-dialog"),s=t.querySelector("#webdav-url"),o=t.querySelector("#webdav-password"),i=s==null?void 0:s.value;if(!i){v.error("Please provide a URL");return}const c=o==null?void 0:o.value;try{let d;const l=i.match(/^(https?:\/\/[^\/]+)\/(?:index\.php\/)?s\/([A-Za-z0-9]+)/);if(l){const u=l[1],f=l[2];d={url:`${u}/public.php/webdav/`,username:f,password:c||""}}else d={url:i,...c&&{username:"",password:c}};await te.connectWorkspace(d),v.info("Connected to WebDAV workspace"),n.open=!1,s.value="",o.value=""}catch(d){d instanceof Error?v.error(`Failed to connect: ${d.message}`):v.error("Failed to connect to WebDAV workspace")}}}>
                            <wa-icon name="plug" slot="start"></wa-icon>
                            Connect
                        </wa-button>
                    </div>
                </div>
            </wa-dialog>
        `;ht(r,t),document.body.appendChild(t),de=t.querySelector("wa-dialog")}return de}wt({command:{id:"workspace.connect.webdav",name:"WebDAV / Cloud Storage",description:"Connect to WebDAV servers, Nextcloud shares, ownCloud, and other cloud storage",parameters:[{name:"url",type:"string",description:"WebDAV URL: share link (https://cloud.example.com/s/TOKEN) or direct endpoint",required:!1},{name:"password",type:"string",description:"Password (if required)",required:!1}]},handler:{execute:async t=>{var n,s;const e=(n=t.parameters)==null?void 0:n.url,r=(s=t.parameters)==null?void 0:s.password;if(!e){const o=Kr();o.open=!0;return}try{let o;const i=e.match(/^(https?:\/\/[^\/]+)\/(?:index\.php\/)?s\/([A-Za-z0-9]+)/);if(i){const c=i[1],d=i[2];o={url:`${c}/public.php/webdav/`,username:d,password:r||""}}else o={url:e,...r&&{username:"",password:r}};await te.connectWorkspace(o),v.info("Connected to WebDAV workspace")}catch(o){o instanceof Error?v.error(`Failed to connect: ${o.message}`):v.error("Failed to connect to WebDAV workspace")}}},contribution:{target:"filebrowser.connections",label:"WebDAV / Cloud Storage",icon:"cloud"}});te.registerContribution({type:"webdav",name:"WebDAV (Cloud Storage)",canHandle(t){return t&&typeof t=="object"&&"url"in t&&typeof t.url=="string"},async connect(t){const e=new _e(t),r={href:t.url,displayName:qe(t.url),isDirectory:!0};return new B(e,r)},async restore(t){if(!(!t||!t.url))try{const e=new _e(t),r={href:t.url,displayName:qe(t.url),isDirectory:!0};return new B(e,r)}catch(e){console.error("Failed to restore WebDAV workspace:",e);return}},async persist(t){return t instanceof B?{url:t.getClient().getBaseUrl(),username:"",password:""}:null}});function qe(t){try{const r=new URL(t).pathname.split("/").filter(Boolean);return r[r.length-1]||"workspace"}catch{return"workspace"}}console.log("WebDAV Extension loaded");export{_e as WebDAVClient,B as WebDAVDirectoryResource,Be as WebDAVFileResource};
